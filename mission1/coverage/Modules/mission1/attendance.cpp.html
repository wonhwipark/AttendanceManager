<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>attendance.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include "attendance.h"

using namespace std;


enum Grade_e {
	NORMAL = 0,
	GOLD   = 1,
	SILVER = 2
};

enum Day_e {
	MONDAY    = 0,
	TUESDAY   = 1,
	WEDNESDAY = 2,
	THURSDAY  = 3,
	FRIDAY    = 4,
	SATURDAY  = 5,
	SUNDAY    = 6
};

struct Player {
	int id;
	std::string name;
};

struct Node {
	string w;
	string wk;
};

<span style = "background-color:#dfd">map&lt;string, int&gt; id1;</span>
int id_cnt = 0;

//dat[»ç¿ëÀÚID][¿äÀÏ]
int dat[100][100];
int points[100];
int grade[100];
<span style = "background-color:#dfd">string names[100];</span>

int wed[100];
int weeken[100];

<span style = "background-color:#fdd">void input2(string w, string wk) {</span>
	//ID ºÎ¿©
<span style = "background-color:#fdd">	if (id1.count(w) == 0) {
		id1.insert({ w, ++id_cnt });</span>

<span style = "background-color:#fdd">		if (w == "Daisy") {
			int debug = 1;</span>
		}

<span style = "background-color:#fdd">		names[id_cnt] = w;</span>
	}
<span style = "background-color:#fdd">	int id2 = id1[w];</span>

	//µð¹ö±ë¿ë
<span style = "background-color:#fdd">	if (w == "Daisy") {
		int debug = 1;</span>
	}

<span style = "background-color:#fdd">	int add_point = 0;
	int index = 0;
	if (wk == "monday") {
		index = 0;
		add_point++;</span>
	}
<span style = "background-color:#fdd">	if (wk == "tuesday") {
		index = 1;
		add_point++;</span>
	}
<span style = "background-color:#fdd">	if (wk == "wednesday") {
		index = 2;
		add_point += 3;
		wed[id2] += 1;</span>
	}
<span style = "background-color:#fdd">	if (wk == "thursday") {
		index = 3;
		add_point++;</span>
	}
<span style = "background-color:#fdd">	if (wk == "friday") {
		index = 4;
		add_point++;</span>
	}
<span style = "background-color:#fdd">	if (wk == "saturday") {
		index = 5;
		add_point += 2;
		weeken[id2] += 1;</span>
	}
<span style = "background-color:#fdd">	if (wk == "sunday") {
		index = 6;
		add_point += 2;
		weeken[id2] += 1;</span>
	}

	//»ç¿ëÀÚIDº° ¿äÀÏ µ¥ÀÌÅÍ¿¡ 1¾¿ Áõ°¡
<span style = "background-color:#fdd">	dat[id2][index] += 1;
	points[id2] += add_point;
}</span>

<span style = "background-color:#dfd">void RunAttendanceSystem() {</span>
	bool retFlag;
<span style = "background-color:#dfd">	ReadAttandanceList(retFlag);
	if (retFlag) return;</span>

<span style = "background-color:#fdd">	for (int i = 1; i &lt;= id_cnt; i++) {
		if (dat[i][2] &gt; 9) {
			points[i] += 10;</span>
		}

<span style = "background-color:#fdd">		if (dat[i][5] + dat[i][6] &gt; 9) {
			points[i] += 10;</span>
		}

<span style = "background-color:#fdd">		if (points[i] &gt;= 50) {
			grade[i] = 1;
		}
		else if (points[i] &gt;= 30) {
			grade[i] = 2;
		}</span>
		else {
<span style = "background-color:#fdd">			grade[i] = 0;</span>
		}

<span style = "background-color:#fdd">		cout &lt;&lt; "NAME : " &lt;&lt; names[i] &lt;&lt; ", ";
		cout &lt;&lt; "POINT : " &lt;&lt; points[i] &lt;&lt; ", ";
		cout &lt;&lt; "GRADE : ";</span>

<span style = "background-color:#fdd">		if (grade[i] == 1) {
			cout &lt;&lt; "GOLD" &lt;&lt; "\n";
		}
		else if (grade[i] == 2) {
			cout &lt;&lt; "SILVER" &lt;&lt; "\n";
		}</span>
		else {
<span style = "background-color:#fdd">			cout &lt;&lt; "NORMAL" &lt;&lt; "\n";</span>
		}
<span style = "background-color:#fdd">	}</span>

<span style = "background-color:#fdd">	std::cout &lt;&lt; "\n";
	std::cout &lt;&lt; "Removed player\n";
	std::cout &lt;&lt; "==============\n";
	for (int i = 1; i &lt;= id_cnt; i++) {</span>

<span style = "background-color:#fdd">		if (grade[i] != 1 &amp;&amp; grade[i] != 2 &amp;&amp; wed[i] == 0 &amp;&amp; weeken[i] == 0) {
			std::cout &lt;&lt; names[i] &lt;&lt; "\n";</span>
		}
<span style = "background-color:#fdd">	}</span>
<span style = "background-color:#dfd">}</span>

void ReadAttandanceList(bool&amp; retFlag)
<span style = "background-color:#dfd">{
	retFlag = true;
	ifstream fin{ "attendance_weekday_500.txt" }; //500°³ µ¥ÀÌÅÍ ÀÔ·Â
	if (!fin.is_open()) {
		cerr &lt;&lt; "Error opening file!" &lt;&lt; endl;
		return;</span>
	}

<span style = "background-color:#fdd">	for (int i = 0; i &lt; 500; i++) {
		string t1, t2;
		fin &gt;&gt; t1 &gt;&gt; t2;
		input2(t1, t2);
	}
	retFlag = false;
}</span>

<span style = "background-color:#dfd">int main() {
	RunAttendanceSystem();
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>